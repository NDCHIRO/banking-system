<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
      <h:head>
		Money Transaction page
	</h:head>
	<h:body>

	<h:form>
			<p:growl id="growl" showDetail="true" />
        	<p:growl id="growl-sticky" for="sticky-key" showDetail="true" sticky="true" />
        	<br></br>
        	<h:outputText value="Trsansfer money " />
        	<br></br>
			        	<br></br>
			
        	<h:outputText value="username: " />  
    		<p:inputText value="#{moneyTransfer.transferedUsername}" />
    		<h:outputText value="     amount of money: " />  
    		<p:inputText value="#{moneyTransfer.transferedMoney}" />
			<br></br>
    		<br></br>
    		<p:commandButton action="#{moneyTransfer.transferMoney}" value="transfer money" update="growl"/>
    		<br></br>
    		<br></br>
    		
			 <p:dialog header="Table Dialog" widgetVar="tableDialog" modal="true" resizable="false" styleClass="custom-dialog">
			    <style>
			        .custom-dialog .ui-dialog-content {
			            max-height: 400px;
			            overflow-y: auto;
			        }
			    </style>
			  <p:dataTable value="#{moneyTransfer.showTransactions()}" var="item"  
			  selectionMode="single" rowKey="#{item.getId()}">
			    <p:column headerText="first account">
			      <h:outputText value="#{item.getFromAccount().getClient().getName()}" />
			    </p:column>
			    <p:column headerText="second account">
			      <h:outputText value="#{item.getToAccount().getClient().getName()}" />
			    </p:column>
			    <p:column headerText="status">
			      <h:outputText value="#{item.getDescription()}" />
			    </p:column>
			    <p:column headerText="amount of money">
			      <h:outputText value="#{item.amountOfTransferedMoney}" />
			    </p:column>
			    
			  </p:dataTable>
			</p:dialog> 
			<p:commandButton value="show transactions" onclick="PF('tableDialog').show()" /> 
			<br></br>
    		<br></br>
			<p:commandButton value="logout"  action="#{moneyTransfer.logOut()}" update="growl" 
    		 	styleClass="mr-2" style="width: 10rem" >
    		 </p:commandButton> 
	</h:form>
	</h:body>
</html>

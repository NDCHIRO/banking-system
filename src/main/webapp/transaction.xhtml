<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
	
	<h:head>
		
	</h:head>
	
	<h:body>
	
		<h:form>
			<h2> Transaction page </h2>
			<br></br>
			<br></br>
			<p:growl id="growl" showDetail="true" />
        	<p:growl id="growl-sticky" for="sticky-key" showDetail="true" sticky="true" />
        	
			<p:dialog  header="Table Dialog" widgetVar="tableDialog" modal="true" resizable="false" styleClass="custom-dialog">
			 <style>
		        .custom-dialog .ui-dialog-content {
		            max-height: 400px;
		            overflow-y: auto;
		        }
	 		 </style>
			 <p:dataTable value="#{account.showTransactions()}" var="item">
			    <p:column headerText="first account">
			      <h:outputText value="#{item.getFromAccount().getClient().getName()}" />
			    </p:column>
			    <p:column headerText="second account">
			      <h:outputText value="#{item.getToAccount().getClient().getName()}" />
			    </p:column>
			    <p:column headerText="status">
			      	<p:menu>
				        <p:submenu >
				            <p:menuitem value="pending" action="#{transaction.selectPending}" itemStyle="#{transaction.selectedStatus eq 'pending' ? 'background-color: yellow;' : ''}"/>
				            <p:menuitem value="approved" action="#{transaction.selectApproved}" itemStyle="#{transaction.selectedStatus eq 'approved' ? 'background-color: red' : ''}"/>
				            <p:menuitem value="rejected" action="#{transaction.selectRejected}" itemStyle="#{transaction.selectedStatus eq 'rejected' ? 'background-color: black' : ''}"/>
				            
				        </p:submenu>
				        
				    </p:menu>
			    </p:column>
			  </p:dataTable>
			</p:dialog> 
			<p:commandButton value="Open Dialog" onclick="PF('tableDialog').show()" /> 
			<script>
			    // JQuery to Show the dialog on page load
			    $(document).ready(function() {
			        PF('tableDialog').show();
			    });
			</script>
		</h:form>
	</h:body>
</html>
		